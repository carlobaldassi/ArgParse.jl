<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · ArgParse.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">ArgParse.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Quick-overview-and-a-simple-example"><span>Quick overview and a simple example</span></a></li><li><a class="tocitem" href="#Contents"><span>Contents</span></a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="parse_args/">The <code>parse_args</code> function</a></li><li><a class="tocitem" href="settings/">Settings</a></li><li><a class="tocitem" href="arg_table/">Argument table</a></li><li><a class="tocitem" href="import/">Importing settings</a></li><li><a class="tocitem" href="conflicts/">Conflicts and overrides</a></li><li><a class="tocitem" href="custom/">Parsing to custom types</a></li><li><a class="tocitem" href="details/">Parsing details</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/carlobaldassi/ArgParse.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ArgParse.jl-documentation"><a class="docs-heading-anchor" href="#ArgParse.jl-documentation">ArgParse.jl documentation</a><a id="ArgParse.jl-documentation-1"></a><a class="docs-heading-anchor-permalink" href="#ArgParse.jl-documentation" title="Permalink"></a></h1><p>This <a href="http://julialang.org">Julia</a> package allows the creation of user-friendly command-line interfaces to Julia programs: the program defines which arguments, options and sub-commands it accepts, and the <code>ArgParse</code> module does the actual parsing, issues errors when the input is invalid, and automatically generates help and usage messages.</p><p>Users familiar with Python&#39;s <code>argparse</code> module will find many similarities, but some important differences as well.</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>To install the module, use Julia&#39;s package manager: start pkg mode by pressing <code>]</code> and then enter:</p><pre><code class="language-none">(v1.5) pkg&gt; add ArgParse</code></pre><p>Dependencies will be installed automatically.</p><h2 id="Quick-overview-and-a-simple-example"><a class="docs-heading-anchor" href="#Quick-overview-and-a-simple-example">Quick overview and a simple example</a><a id="Quick-overview-and-a-simple-example-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-overview-and-a-simple-example" title="Permalink"></a></h2><p>First of all, the module needs to be loaded:</p><pre><code class="language-julia">using ArgParse</code></pre><p>There are two main steps for defining a command-line interface: creating an <a href="settings/#ArgParse.ArgParseSettings"><code>ArgParseSettings</code></a> object, and populating it with allowed arguments and options using either the macro <a href="arg_table/#ArgParse.@add_arg_table!"><code>@add_arg_table!</code></a> or the function <a href="arg_table/#ArgParse.add_arg_table!"><code>add_arg_table!</code></a> (see the <a href="arg_table/#Argument-table">Argument table</a> section):</p><pre><code class="language-julia">s = ArgParseSettings()
@add_arg_table! s begin
    &quot;--opt1&quot;
        help = &quot;an option with an argument&quot;
    &quot;--opt2&quot;, &quot;-o&quot;
        help = &quot;another option with an argument&quot;
        arg_type = Int
        default = 0
    &quot;--flag1&quot;
        help = &quot;an option without argument, i.e. a flag&quot;
        action = :store_true
    &quot;arg1&quot;
        help = &quot;a positional argument&quot;
        required = true
end</code></pre><p>In the macro, options and positional arguments are specified within a <code>begin...end</code> block, by one or more names in a line, optionally followed by a list of settings. So, in the above example, there are three options:</p><ul><li>the first one, <code>&quot;--opt1&quot;</code> takes an argument, but doesn&#39;t check for its type, and it doesn&#39;t have a default value</li><li>the second one can be invoked in two different forms (<code>&quot;--opt2&quot;</code> and <code>&quot;-o&quot;</code>); it also takes an argument, but it must be of <code>Int</code> type (or convertible to it) and its default value is <code>0</code></li><li>the third one, <code>--flag1</code>, is a flag, i.e. it doesn&#39;t take any argument.</li></ul><p>There is also only one positional argument, <code>&quot;arg1&quot;</code>, which is declared as mandatory.</p><p>When the settings are in place, the actual argument parsing is performed via the <a href="parse_args/#ArgParse.parse_args"><code>parse_args</code></a> function:</p><pre><code class="language-julia">parsed_args = parse_args(ARGS, s)</code></pre><p>The parameter <code>ARGS</code> can be omitted. In case no errors are found, the result will be a <code>Dict{String,Any}</code> object. In the above example, it will contain the keys <code>&quot;opt1&quot;</code>, <code>&quot;opt2&quot;</code>, <code>&quot;flag1&quot;</code> and <code>&quot;arg1&quot;</code>, so that e.g. <code>parsed_args[&quot;arg1&quot;]</code> will yield the value associated with the positional argument.</p><p>(The <code>parse_args</code> function also accepts an optional <code>as_symbols</code> keyword argument: when set to <code>true</code>, the result of the parsing will be a <code>Dict{Symbol,Any}</code>, which can be useful e.g. for passing it as the keywords to a Julia function.)</p><p>Putting all this together in a file, we can see how a basic command-line interface is created:</p><pre><code class="language-julia">using ArgParse

function parse_commandline()
    s = ArgParseSettings()

    @add_arg_table! s begin
        &quot;--opt1&quot;
            help = &quot;an option with an argument&quot;
        &quot;--opt2&quot;, &quot;-o&quot;
            help = &quot;another option with an argument&quot;
            arg_type = Int
            default = 0
        &quot;--flag1&quot;
            help = &quot;an option without argument, i.e. a flag&quot;
            action = :store_true
        &quot;arg1&quot;
            help = &quot;a positional argument&quot;
            required = true
    end

    return parse_args(s)
end

function main()
    parsed_args = parse_commandline()
    println(&quot;Parsed args:&quot;)
    for (arg,val) in parsed_args
        println(&quot;  $arg  =&gt;  $val&quot;)
    end
end

main()</code></pre><p>If we save this as a file called <code>myprog1.jl</code>, we can see how a <code>--help</code> option is added by default, and a help message is automatically generated and formatted:</p><pre><code class="language-text">$ julia myprog1.jl --help
usage: myprog1.jl [--opt1 OPT1] [-o OPT2] [--flag1] [-h] arg1

positional arguments:
  arg1             a positional argument

optional arguments:
  --opt1 OPT1      an option with an argument
  -o, --opt2 OPT2  another option with an argument (type: Int64,
                   default: 0)
  --flag1          an option without argument, i.e. a flag
  -h, --help       show this help message and exit</code></pre><p>Also, we can see how invoking it with the wrong arguments produces errors:</p><pre><code class="language-text">$ julia myprog1.jl
required argument arg1 was not provided
usage: myprog1.jl [--opt1 OPT1] [-o OPT2] [--flag1] [-h] arg1

$ julia myprog1.jl somearg anotherarg
too many arguments
usage: myprog1.jl [--opt1 OPT1] [-o OPT2] [--flag1] [-h] arg1

$ julia myprog1.jl --opt2 1.5 somearg
invalid argument: 1.5 (conversion to type Int64 failed; you may need to overload ArgParse.parse_item;
                  the error was: ArgumentError(&quot;invalid base 10 digit &#39;.&#39; in \&quot;1.5\&quot;&quot;))
usage: myprog1.jl [--opt1 OPT1] [-o OPT2] [--flag1] arg1</code></pre><p>When everything goes fine instead, our program will print the resulting <code>Dict</code>:</p><pre><code class="language-text">$ julia myprog1.jl somearg
Parsed args:
  arg1  =&gt;  somearg
  opt2  =&gt;  0
  opt1  =&gt;  nothing
  flag1  =&gt;  false

$ julia myprog1.jl --opt1 &quot;2+2&quot; --opt2 &quot;4&quot; somearg --flag
Parsed args:
  arg1  =&gt;  somearg
  opt2  =&gt;  4
  opt1  =&gt;  2+2
  flag1  =&gt;  true</code></pre><p>From these examples, a number of things can be noticed:</p><ul><li><code>opt1</code> defaults to <code>nothing</code>, since no <code>default</code> setting was used for it in <code>@add_arg_table!</code></li><li><code>opt1</code> argument type, begin unspecified, defaults to <code>Any</code>, but in practice it&#39;s parsed as a string (e.g. <code>&quot;2+2&quot;</code>)</li><li><code>opt2</code> instead has <code>Int</code> argument type, so <code>&quot;4&quot;</code> will be parsed and converted to an integer, an error is emitted if the conversion fails</li><li>positional arguments can be passed in between options</li><li>long options can be passed in abbreviated form (e.g. <code>--flag</code> instead of <code>--flag1</code>) as long as there&#39;s no ambiguity</li></ul><p>More examples can be found in the <code>examples</code> directory, and the complete documentation in the manual pages.</p><h2 id="Contents"><a class="docs-heading-anchor" href="#Contents">Contents</a><a id="Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Contents" title="Permalink"></a></h2><ul><li><a href="parse_args/#The-parse_args-function">The <code>parse_args</code> function</a></li><li><a href="settings/#Settings">Settings</a></li><li><a href="arg_table/#Argument-table">Argument table</a></li><ul><li><a href="arg_table/#Argument-names">Argument names</a></li><li><a href="arg_table/#Argument-entry-settings">Argument entry settings</a></li><li><a href="arg_table/#Available-actions-and-nargs-values">Available actions and nargs values</a></li><li><a href="arg_table/#Commands">Commands</a></li><li><a href="arg_table/#Argument-groups">Argument groups</a></li><li><a href="arg_table/#Argument-table-styles">Argument table styles</a></li></ul><li><a href="import/#Importing-settings">Importing settings</a></li><li><a href="conflicts/#Conflicts-and-overrides">Conflicts and overrides</a></li><li><a href="custom/#Parsing-to-custom-types">Parsing to custom types</a></li><li><a href="details/#Parsing-details">Parsing details</a></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="parse_args/">The <code>parse_args</code> function »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 26 September 2021 13:12">Sunday 26 September 2021</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
